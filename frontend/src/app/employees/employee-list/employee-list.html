<mat-card>
  <mat-card-title>Employee Details</mat-card-title>

  <!-- 🔍 Search + Filter Bar -->
  <div class="search-filter-bar">
    <!-- Search -->
    <mat-form-field appearance="outline" class="search-box">
      <mat-label>Search Employees</mat-label>
      <input
        matInput
        [(ngModel)]="searchText"
        placeholder="Name / Email / Employee Code"
      />
      <button
        *ngIf="searchText"
        matSuffix
        mat-icon-button
        (click)="searchText = ''"
      >
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>

    <!-- Status Filter -->
    <mat-form-field appearance="outline" class="status-box">
      <mat-label>Filter by Status</mat-label>
      <mat-select [(ngModel)]="statusFilter" (selectionChange)="applyFilter()">
        <mat-option value="">All</mat-option>
        <mat-option value="active">Active</mat-option>
        <mat-option value="deactive">Deactive</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <!-- 📋 Employee Table -->
  <div class="table-container">
    <mat-table
      [dataSource]="filteredData | filter: searchText: ['name', 'email', 'emp_code']"
      class="mat-elevation-z8"
    >
      <!-- Employee Code -->
      <ng-container matColumnDef="emp_code">
        <mat-header-cell *matHeaderCellDef> Employee ID </mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.emp_code }}</mat-cell>
      </ng-container>

      <!-- Name -->
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.name }}</mat-cell>
      </ng-container>

      <!-- Email -->
      <ng-container matColumnDef="email">
        <mat-header-cell *matHeaderCellDef> Email </mat-header-cell>
        <mat-cell *matCellDef="let element">{{ element.email }}</mat-cell>
      </ng-container>

      <!-- IT Staff -->
      <ng-container matColumnDef="isIT">
        <mat-header-cell *matHeaderCellDef> IT Staff </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-icon color="{{ element.isIT ? 'primary' : 'warn' }}">
            {{ element.isIT ? 'check_circle' : 'cancel' }}
          </mat-icon>
        </mat-cell>
      </ng-container>

      <!-- Status -->
      <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef> Status </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <span
            [ngClass]="{
              'active-status': element.status === 'active',
              'inactive-status': element.status === 'deactive'
            }"
          >
            {{ element.status === 'active' ? 'Active' : 'Deactive' }}
          </span>
        </mat-cell>
      </ng-container>

      <!-- Actions -->
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <button
            mat-icon-button
            color="primary"
            [routerLink]="['/employees/edit', element.emp_code]"
          >
            <mat-icon>edit</mat-icon>
          </button>
        </mat-cell>
      </ng-container>

      <!-- Table Rows -->
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
  </div>
</mat-card>
